## how to use the new state management in flutterflow

We've made three major updates to State Management so let me tell you what they are and show you practical examples of both how to use them and how it changes your design system first you can now access the widget state of widgets inside a component from the page the component is on okay so what does that mean well in modern app development you design with components reusable blocks like buttons carousels and form elements 

 That make it so you don't have to design the same thing multiple times now there are around 20 widgets with Widget States all of these before this update you couldn't access those widget States outside of the components so that means that if you needed those widget States they couldn't be in components so you would have to rebuild those widgets every time you need them for instance let's say you've got a component right here with an email and password field 

 And let's say you had three pages where you were going to use this on your sign up login and reset password pages so I'm here on my sign up page and I've got that component you can see right here on the page now when you go to create your account we're going to have an auth action and we're going to need the email and password Fields so if I go into this email field you're going to see that we've got widget State and now we have this diamond icon which indicates that 

 This is coming from a component and if we twirl this open we can see the widget States in that component our email and our password that's coming from this first text field and the second text field before this update you didn't have access to these so they couldn't be part of your component design system so now your design system is much more complete or let's take another example so here I've got an order page where you're ordering your drink and you select how 

 Much milk you want how much sugar and how many espresso shots so you go in and you select from these drop downs the price will be dynamically updated here and then you'll just swipe up to complete your your order now these drop downs right here are components we've got them styled how we want them and if we came in here to our text and see what we have available to us once again we've got our widget State and we've got all of our drop downs accessible to us that 

 Is we're accessing the widget state of our drop down components outside of the component inside the page where we're working and of course each of these drop downs would be dynamic because we would set parameters to send into them different data milk for this one types of sugar for this one and espresso shots so now your components can be much more Dynamic and you can develop them much faster second you now have three types of State variables instead of just the 

 One local state variables we now have App State variables that was the old local state page variables and component variables let me show you how they function so the first one is the app variables and once again this is just the old local state there variables that is the scope of these variables where you have access to them is anywhere in your app but the two additional ones we've added are page variables and these will be accessible only on the page on 

 Which you set them up and finally component variables and the scope of these are only inside the components where you declare them this allows you to Define variables only in the scope where it's necessary not polluting the global scope and handling State cleanly and efficiently this means that in larger or more complex apps you won't have like a million local state variables that you have to look through let me show you a few examples here I've 

 Got a component that's a text field input you would use these on a form this is where a user puts in information and here I'm using two component State variables to handle validation that is when whenever the user types in doesn't pass whatever rules I've set up for a valid input I'm going to change the style a red border around and I'm handling this through these local state variables now this is a small little function and it would be annoying to 

 Have these two variables in my app state right here because all they're doing is handling a little piece of validation on one component and with this new update we can now localize them to the scope where they're needed next let's look at a page State variable here we've got a Spotify redesign done by one of our great flutter flow users it's available in the marketplace and we've got this custom nav setup at the bottom where you click on it and you're shown different 

 Content so your favorites user account information and the general feed now this is one page in flutter flow and this is a perfect example of a good use case for a page State variable because the variable only makes sense only is used on this page so it wouldn't make sense for it to exist on every page in the app so right now it's using local state or app State as it's now called and let's migrate it over to a page State variable so here's the page and 

 All the content is in a stack right here and it's being handled by a current index variable I'll show you it right here and we can see it it's living in here in our app state so let's come over to our page and if we click on the main root widget you can see this icon right here State Management so if we go in there we can add a field and let's call it current page index and we'll set it to an integer and set our initial value to zero because we want the first option 

 To show up let's confirm that we can close it and now we can just go replace the current variable it's using for a page state so we come in here it's referencing this current index which is an app State variable but we want a page State and so we'll just switch that out and do this for the rest of them now that that's set up we can delete that App State variable because we're not using it anymore there are a couple other places where this variable would 

 Have to be changed but it's the same as these and that's how easy it is to switch out your variables for ones in a better scope third we've separated out pages and widgets into a model class and a widget class that makes the code much more accessible so let's go into code View and you can see we've got this tab now available where we can select whether we want it to render the widget or the model code and when you copy it it'll copy whichever is selected let us 

 Know if you have any questions about these new State Management upgrades and send us a link if you're building something cool as always leave any questions or comments or below and we'll see you in the next video 